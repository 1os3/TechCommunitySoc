{"version":3,"file":"behaviorTracking.js","sourceRoot":"","sources":["../../src/middleware/behaviorTracking.ts"],"names":[],"mappings":"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"}